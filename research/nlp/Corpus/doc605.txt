An autofocus (or AF) optical system uses a sensor, a control system and a motor to focus on an automatically or manually selected point or area. An electronic rangefinder has a display instead of the motor; the adjustment of the optical system has to be done manually until indication.  Autofocus methods are distinguished as active, passive or hybrid types.
Autofocus systems rely on one or more sensors to determine correct focus. Some AF systems rely on a single sensor, while others use an array of sensors. Most modern SLR cameras use through-the-lens optical sensors, with a separate sensor array providing light metering, although the latter can be programmed to prioritize its metering to the same area as one or more of the AF sensors.
Through-the-lens optical autofocusing is usually speedier and more precise than manual focus with an ordinary viewfinder, although more precise manual focus can be achieved with special accessories such as focusing magnifiers.  Autofocus accuracy within 1/3 of the depth of field (DOF) at the widest aperture of the lens is common in professional AF SLR cameras.
Most multi-sensor AF cameras allow manual selection of the active sensor, and many offer automatic selection of the sensor using algorithms which attempt to discern the location of the subject. Some AF cameras are able to detect whether the subject is moving towards or away from the camera, including speed and acceleration, and keep focus — a function used mainly in sports and other action photography.  Canon cameras call this AI servo; Nikon cameras call it "continuous focus".
The data collected from AF sensors is used to control an electromechanical system that adjusts the focus of the optical system. A variation of autofocus is an electronic rangefinder, in which focus data are provided to the operator, but adjustment of the optical system is still performed manually.  
The speed of the AF system is highly dependent on the widest aperture offered by the lens at the current focal length.  F-stops of around f/2 to f/2.8 are generally considered best for focusing speed and accuracy.  Faster lenses than this (e.g.: f/1.4 or f/1.8) typically have very low depth of field, meaning that it takes longer to achieve correct focus, despite the increased amount of light.  Most consumer camera systems will only autofocus reliably with lenses that have a widest aperture of at least f/5.6, whilst professional models can often cope with a widest aperture of f/8, which is particularly useful for lenses used in conjunction with teleconverters.

History
Between 1960 and 1973, Leitz (Leica) patented an array of autofocus and corresponding sensor technologies.  At photokina 1976, Leica had presented a camera based on their previous development, named Correfot, and in 1978 they displayed an SLR camera with fully operational autofocus. 
The first mass-produced autofocus camera was the Konica C35 AF, a simple point and shoot model released in 1977. The Polaroid SX-70 Sonar OneStep was the first autofocus single-lens reflex camera, released in 1978. 
The Pentax ME-F, which used focus sensors in the camera body coupled with a motorized lens, became the first autofocus 35 mm SLR in 1981. 
In 1983 Nikon released the F3AF, their first autofocus camera, which was based on a similar concept to the ME-F. 
The Minolta 7000, released in 1985, was the first SLR with an integrated autofocus system, meaning both the AF sensors and the drive motor were housed in the camera body, as well as an integrated film advance winder — which was to become the standard configuration for SLR cameras from this manufacturer, and also Nikon abandoned their F3AF system and integrated the autofocus-motor and sensors in the body. 
Canon decided to discontinue their FD mount and switched to the completely electronic EF mount with motorised lenses in 1987. 
Pentax was the first to introduce focusing distance measurement for SLR cameras with the FA and FA* series lenses from 1991. Their first KAF-mount Pentax lenses  with AF had been introduced in 1989.In 1992, Nikon changed back to lens integrated motors with their AF-I and AF-S range of lenses; today their entry-level DSLRs do not have a focus motor in the body due to the availability of motors in all new developed AF-Lenses.

Active
Active AF systems measure distance to the subject independently of the optical system, and subsequently adjust the optical system for correct focus.
There are various ways to measure distance, including ultrasonic sound waves and infrared light. In the first case, sound waves are emitted from the camera, and by measuring the delay in their reflection, distance to the subject is calculated. Polaroid cameras including the Spectra and SX-70 were known for successfully applying this system. In the latter case, infrared light is usually used to triangulate the distance to the subject. Compact cameras including the Nikon 35TiQD and 28TiQD, the Canon AF35M, and the Contax T2 and T3, as well as early video cameras, used this system. A newer approach included in some consumer electronic devices, like mobile phones, is based on the time-of-flight principle, which involves shining a laser or LED light to the subject and calculating the distance based on the time it takes for the light to travel to the subject and back. This technique is sometimes called laser autofocus, and is present in many mobile phone models from several vendors. It is also present in industrial and medical devices.
An exception to the two-step approach is the mechanical autofocus provided in some enlargers, which adjust the lens directly.

Passive
Passive AF systems determine correct focus by performing passive analysis of the image that is entering the optical system. They generally do not direct any energy, such as ultrasonic sound or infrared light waves, toward the subject. (However, an autofocus assist beam of usually infrared light is required when there is not enough light to take passive measurements.) Passive autofocusing can be achieved by phase detection or contrast measurement.

Phase detection
Phase detection (PD) is achieved by dividing the incoming light into pairs of images and comparing them. Through-the-lens secondary image registration (TTL SIR) passive phase detection is often used in film and digital SLR cameras. The system uses a beam splitter (implemented as a small semi-transparent area of the main reflex mirror, coupled with a small secondary mirror) to direct light to an AF sensor at the bottom of the camera. Two micro-lenses capture the light rays coming from the opposite sides of the lens and divert it to the AF sensor, creating a simple rangefinder with a base within the lens's diameter. The two images are then analysed for similar light intensity patterns (peaks and valleys) and the separation error is calculated in order to find whether the object is in front focus or back focus position. This gives the direction and an estimate of the required amount of focus-ring movement.PD AF in a continuously focusing mode (e.g. "AI Servo" for Canon, "AF-C" for Nikon, Pentax and Sony) is a closed-loop control process. PD AF in a focus-locking mode (e.g. "One-Shot" for Canon, "AF-S" for Nikon and Sony) is widely believed to be a "one measurement, one movement" open-loop control process, but focus is confirmed only when the AF sensor sees an in-focus subject. The only apparent differences between the two modes are that a focus-locking mode halts on focus confirmation, and a continuously focusing mode has predictive elements to work with moving targets, which suggests they are the same closed-loop process.Although AF sensors are typically one-dimensional photosensitive strips (only a few pixels high and a few dozen wide), some modern cameras (Canon EOS-1V, Canon EOS-1D, Nikon D2X) feature TTL area SIR sensors that are rectangular in shape and provide two-dimensional intensity patterns for a finer-grain analysis.  Cross-type focus points have a pair of sensors oriented at 90° to one another, although one sensor typically requires a larger aperture to operate than the other.
Some cameras (Minolta 7, Canon EOS-1V, 1D, 30D/40D, Pentax K-1, Sony DSLR-A700, DSLR-A850, DSLR-A900) also have a few "high-precision" focus points with an additional set of prisms and sensors; they are only active with "fast lenses" with certain geometrical apertures (typically f-number 2.8 and faster). Extended precision comes from the wider effective measurement base of the "range finder".
Some modern sensors (for example one in Librem 5) include about 2% phase detection pixels on the chip. With suitable software support, that enables phase detection auto focus with suitable software.

Contrast detection
Contrast-detection autofocus is achieved by measuring contrast (vision) within a sensor field through the lens. The intensity difference between adjacent pixels of the sensor naturally increases with correct image focus. The optical system can thereby be adjusted until the maximal contrast is detected. In this method, AF does not involve actual distance measurement at all. This creates significant challenges when tracking moving subjects, since a loss of contrast gives no indication of the direction of motion towards or away from the camera.
Contrast-detect autofocus is a common method in digital cameras that lack shutters and reflex mirrors.  Most DSLRs use this method (or a hybrid of both contrast and phase-detection autofocus) when focusing in their live-view modes. A notable exception is Canon digital cameras with Dual Pixel CMOS AF. Mirrorless interchangeable-lens cameras typically used contrast-measurement autofocus, although phase detection has become the norm on most mirrorless cameras giving them significantly better AF tracking performance compared to contrast detection.
Contrast detection places different constraints on lens design when compared with phase detection. While phase detection requires the lens to move its focus point quickly and directly to a new position, contrast-detection autofocus instead employs lenses that can quickly sweep through the focal range, stopping precisely at the point where maximal contrast is detected. This means that lenses designed for phase detection often perform poorly on camera bodies that use contrast detection.

Assist lamp
The assist light (also known as AF illuminator) "activates" passive autofocus systems in low-light and low-contrast situations in some cameras. The lamp projects visible or IR light onto the subject, which the camera's autofocus system uses to achieve focus.
Many cameras and nearly all camera phones lack a dedicated autofocus assist lamp.  Instead, they use their built-in flash, illuminating the subject with bursts of light.  This aids the autofocus system in the same fashion as a dedicated assist light, but has the disadvantage of startling or annoying people.  Another disadvantage is that if the camera uses flash focus assist and is set to an operation mode that overrides the flash, it may also disable the focus assist.  Thus, autofocus may fail to acquire the subject.  
Similar stroboscopic flashing is sometimes used to reduce the red-eye effect, but this is only intended to constrict the subject's eye pupils before the shot.
Some external flash guns have integrated autofocus assist lamps that replace the stroboscopic on-camera flash.  Many of them are red  and less obtrusive.  Another way to assist contrast based AF systems in low light is to beam a laser pattern on to the subject.  The laser method is commercially called Hologram AF Laser and was used in Sony CyberShot cameras around the year 2003, including Sony's F707, F717 and F828 models.

Hybrid autofocus
In a hybrid autofocus system, focus is achieved by combining two or more methods, such as:

Active and passive methods
Phase detection and contrast measurementThe double effort is typically used to mutually compensate for the intrinsical weaknesses of the various methods in order to increase the overall reliability and accuracy or to speed up AF function.
A rare example of an early hybrid system is the combination of an active IR or ultrasonic auto-focus system with a passive phase-detection system. An IR or ultrasonic system based on reflection will work regardless of the light conditions, but can be easily fooled by obstacles like window glasses, and the accuracy is typically restricted to a rather limited number of steps. Phase-detection autofocus "sees" through window glasses without problems and is much more accurate, but it does not work in low-light conditions or on surfaces without contrasts or with repeating patterns.
A very common example of combined usage is the phase-detection auto-focus system used in single-lens reflex cameras since the 1985s. The passive phase-detection auto-focus needs some contrast to work with, making it difficult to use in low-light scenarios or on even surfaces. An AF illuminator will illuminate the scene and project contrast patterns onto even surfaces, so that phase-detection auto-focus can work under these conditions as well.
A newer form of a hybrid system is the combination of passive phase-detection auto-focus and passive contrast auto-focus, sometimes assisted by active methods, as both methods need some visible contrast to work with. Under their operational conditions, phase-detection auto-focusing is very fast, since the measurement method provides both information, the amount of offset and the direction, so that the focusing motor can move the lens right into (or close to) focus without additional measurements. Additional measurements on the fly, however, can improve accuracy or help keep track of moving objects. However, the accuracy of phase-detection auto-focus depends on its effective measurement basis. If the measurement basis is large, measurements are very accurate, but can only work with lenses with a large geometrical aperture (e.g. 1:2.8 or larger). Even with high contrasty objects, phase-detection AF cannot work at all with lenses slower than its effective measurement basis. In order to work with most lenses, the effective measurement basis is typically set to between 1:5.6 and 1:6.7, so that AF continues to work with slow lenses (at least for as long as they are not stopped down). This, however, reduces the intrinsical accuracy of the autofocus system, even if fast lenses are used. Since the effective measurement basis is an optical property of the actual implementation, it cannot be changed easily. Very few cameras provide multi-PD-AF systems with several switchable measurement bases depending on the lens used in order to allow normal auto-focusing with most lenses, and more accurate focusing with fast lenses.
Contrast AF does not have this inherent design limitation on accuracy as it only needs a minimal object contrast to work with. Once this is available, it can work with high accuracy regardless of the speed of a lens; in fact, for as long as this condition is met, it can even work with the lens stopped down. Also, since contrast AF continues to work in stopped-down mode rather than only in open-aperture mode, it is immune to aperture-based focus shift errors phase-detection AF systems suffer since they cannot work in stopped-down mode. Thereby, contrast AF makes arbitrary fine-focus adjustments by the user unnecessary. Also, contrast AF is immune to focusing errors due to surfaces with repeating patterns and they can work over the whole frame, not just near the center of the frame, as phase-detection AF does. The down-side, however, is that contrast AF is a closed-loop iterative process of shifting the focus back and forth in rapid succession. Compared to phase-detection AF, contrast AF is slow, since the speed of the focus iteration process is mechanically limited and this measurement method does not provide any directional information. Combining both measurement methods, the phase-detection AF can assist a contrast AF system to be fast and accurate at the same time, to compensate aperture-based focus-shift errors, and to continue to work with lenses stopped down, as, for example, in stopped-down measuring or video mode.
Recent developments towards mirrorless cameras seek to integrate the phase-detection AF sensors into the image sensor itself. Typically, these phase-detection sensors are not as accurate as the more sophisticated stand-alone sensors, but since the fine focusing is now carried out through contrast focusing, the phase-detection AF sensors are only need to provide coarse directional information in order to speed up the contrast auto-focusing process.
In July, 2010, Fujifilm announced a compact camera, the F300EXR, which included a hybrid autofocus system consisting of both phase-detection and contrast-based elements.  The sensors implementing the phase-detection AF in this camera are integrated into the camera's Super CCD EXR.  Currently it is used by Fujifilm FinePix Series, Fujifilm X100S, Ricoh, Nikon 1 series, Canon EOS 650D/Rebel T4i and Samsung NX300.

Comparison of active and passive systems
Active systems will typically not focus through windows, since sound waves and infrared light are reflected by the glass. With passive systems this will generally not be a problem, unless the window is stained. Accuracy of active autofocus systems is often considerably less than that of passive systems.
Active systems may also fail to focus a subject that is very close to the camera (e.g., macro photography).
Passive systems may not find focus when the contrast is low, notably on large single-colored surfaces (walls, blue sky, etc.) or in low-light conditions.  Passive systems are dependent on a certain degree of illumination to the subject (whether natural or otherwise), while active systems may focus correctly even in total darkness when necessary. Some cameras and external flash units have a special low-level illumination mode (usually orange/red light) which can be activated during auto-focus operation to allow the camera to focus.

Trap focus
A method variously referred to as trap focus, focus trap, or catch-in-focus uses autofocus to take a shot when a subject moves into the focal plane (at the relevant focal point); this can be used to get a focused shot of a rapidly moving object, particularly in sports or wildlife photography, or alternatively to set a "trap" so that a shot can automatically be taken without a person present. This is done by using AF to detect but not set focus – using manual focus to set focus (or switching to manual after focus has been set) but then using focus priority to detect focus and only release the shutter when an object is in focus. The technique works by choosing the focus adjustment (turning AF off), then setting the shooting mode to "Single" (AF-S), or more specifically focus priority, then depressing the shutter – when the subject moves into focus, the AF detects this (though it does not change the focus), and a shot is taken.The first SLR to implement trap focusing was the Yashica 230 AF. Trap focus is also possible on some Pentax (e.g. K-x and K-5), Nikon, and Canon EOS cameras. The EOS 1D can do it using software on an attached computer, whereas cameras like the EOS 40D and 7D have a custom function (III-1 and III-4 respectively) which can stop the camera trying to focus after it fails. On EOS cameras without genuine trap focus, a hack called "almost trap focus" can be used, which achieves some of the effects of trap focus. By using the custom firmware Magic Lantern, some Canon DSLRs can perform trap focus.

AI Servo
AI Servo is an autofocus mode found on Canon SLR cameras, and in other brands such as Nikon, Sony, and Pentax, under the name "continuous focus" (AF-C).  Also referred to as focus tracking, it is used to track a subject as it moves around the frame, or toward and away from the camera.  When in use, the lens will constantly maintain its focus on the subject, hence it is commonly used for sports and action photography.  AI refers to artificial intelligence: algorithms that constantly predict where a subject is about to be based on its speed and acceleration data from the autofocus sensor.

Focus motors
Modern autofocus is done through one of two mechanisms; either a motor in the camera body and gears in the lens ("screw drive") or through electronic transmission of the drive instruction through contacts in the mount plate to a motor in the lens. Lens-based motors can be of a number of different types, but are often ultrasonic motors or stepper motors.
Some camera bodies, including all Canon EOS bodies and the more budget-oriented among Nikon's DX models, do not include an autofocus motor and therefore cannot autofocus with lenses that lack an inbuilt motor. Some lenses, such as Pentax' DA* designated models, although normally using an inbuilt motor, can fall back to screwdrive operation when the camera body does not support the necessary contact pins.

Notes
See also
Circular polarizer, the only polarizer to work with some SLR autofocusers
Fixed-focus lens
List of Nikon compatible lenses with integrated autofocus-motor
Manual focus override
Light-field camera, a camera that enables focusing in a postprocessing step

References
External links
interactive Flash demo  showing how phase detection autofocus works.
interactive Flash demo  showing how contrast detection autofocus works.
How Stuff Works – Autofocus
Canon EOS DSLR Autofocus Explained