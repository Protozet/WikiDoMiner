A virtual storage area network (virtual SAN, VSAN or vSAN) is a logical representation of a physical storage area network (SAN). A VSAN abstracts the storage-related operations from the physical storage layer, and provides shared storage access to the applications and virtual machines by combining the servers' local storage over a network into a single or multiple storage pools.
The use of VSANs allows the isolation of traffic within specific portions of the network. If a problem occurs in one VSAN, that problem can be handled with a minimum of disruption to the rest of the network.  VSANs can also be configured separately and independently.

Technology
Operation
A VSAN operates as a dedicated piece of software responsible for storage access, and depending on the vendor, can run either as a virtual storage appliance (VSA), a storage controller that runs inside an isolated virtual machine (VM) or as an ordinary user-mode application, such as StarWind Virtual SAN, or DataCore SANsymphony. Alternatively it can be implemented as a kernel-mode loadable module, such as VMware vSAN, Verge.io virtual san (VSAN), or Microsoft Storage Spaces Direct (S2D). A VSAN can be tied to a specific hypervisor, known as hypervisor-dedicated, or it can allow different hypervisors, known as hypervisor-agnostic.Different vendors have different requirements for the minimum number of nodes that participate in a resilient VSAN cluster. The minimum requirement is to have at least 2 for high availability.

All-flash versus hybrid VSAN
Data center operators can deploy VSANs in an all-flash environment or a hybrid configuration, where flash is only used at the caching layer, and traditional spinning disk storage is used everywhere else.  All-flash VSANs are higher performing, but as of 2019 were more expensive than hybrid networks.

Protocols
For sharing storage over a network, VSAN utilizes protocols including Fibre Channel (FC), Internet Small Computer Systems Interface (iSCSI), Server Message Block (SMB), and Network File System (NFS), as well as proprietary protocols.

Applications
A VSAN fills a similar role as physical SAN infrastructure, but is also used for workload virtualization which can include databases, virtual desktop infrastructure (VDI) environments, file servers, CRM systems, and other enterprise applications.VSANs can be used for remote branch office networks, using low-cost commodity hardware.There are also applications with DMZ, an isolated network that sits outside a company's firewall, and areas with space constraints, such as vessels, where a reduced hardware footprint 2-3 node deployment has a better chance of fitting.
By being able to work on top of commodity hardware, a VSAN is often used for building highly available networks across two or more sites that are combined in a single cluster, a type of deployment known as stretched clustering.
A VSAN can also create highly available hybrid cloud environments by combining existing on-premises resources with public cloud environments.

Advantages
The primary advantage of a VSAN is its ability to provide shared storage. It also increases the resiliency of storage systems by allowing the creation of redundant data copies across the servers in a VSAN cluster. It does this while requiring less hardware and power consumption than a physical SAN. Using a VSAN for local storage provides other resiliency options including mirroring or erasure coding with different parity levels.Another advantage is that unlike a typical fabric that is resized switch-by-switch, a VSAN can be resized port-by-port.

Similar concepts
A VSAN is often associated with hyperconvergence, a concept which refers to unifying computing, networking, and storage resources, within a single server. Similarly, a VSAN shifts away from having a separate physical storage layer and required networking stack, and instead combines storage from multiple nodes into a virtualized and consolidated storage layer. VSANs take control of the storage-related operations, access and features allowing the implementation of data deduplication, data compression, high availability and other features, on commodity x86 server hardware.  VSAN is also associated with software-defined storage (SDS). However, VSAN can be also used in converged architectures where VSAN is deployed on dedicated storage nodes as a cluster, and presents the shared storage over a network to compute nodes.

See also
Storage area network
Fibre Channel
Fibre Channel fabric
VLAN, for analogous mechanism in Ethernet


== References ==